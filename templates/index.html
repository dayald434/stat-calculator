<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Statistical Calculator - Iteration 1</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“Š Statistical Calculator</h1>
            <p class="subtitle">Geo statistics, hypothesis tests, and correlation analysis</p>
        </header>

        <div class="tabs">
            <button class="tab-button active" data-tab="descriptive">
                ğŸ“ˆ Descriptive Stats
            </button>
            <button class="tab-button" data-tab="ttest">
                ğŸ”¬ T-Test
            </button>
            <button class="tab-button" data-tab="chisquare">
                ğŸ“Š Chi-Square
            </button>
            <button class="tab-button" data-tab="correlation">
                ğŸ“‰ Correlation
            </button>
        </div>

        <!-- Descriptive Statistics Tab -->
        <div class="tab-content active" id="descriptive">
            <h2>Descriptive Statistics</h2>
            <p class="instruction">Enter numbers separated by commas or upload a CSV file:</p>
            <textarea id="descriptive-input" placeholder="Example: 12, 15, 18, 20, 22, 25, 28" rows="3"></textarea>
            <div class="file-upload-section">
                <label for="descriptive-file" class="file-label">ğŸ“ Or upload CSV:</label>
                <input type="file" id="descriptive-file" accept=".csv" onchange="handleFileUpload(this, 'descriptive')">
                <span id="descriptive-filename" class="filename"></span>
            </div>
            <button class="btn-calculate" onclick="calculateDescriptive()">Calculate Statistics</button>
            <div class="csv-help">
                <details>
                    <summary>ğŸ“Š CSV Format Example</summary>
                    <pre>12,15,18,20,22,25,28
or
12
15
18
20
22
25
28</pre>
                </details>
            </div>
            <div id="descriptive-result" class="result"></div>
        </div>

        <!-- T-Test Tab -->
        <div class="tab-content" id="ttest">
            <h2>One-Sample T-Test</h2>
            <p class="instruction">Enter sample data (line 1) and population mean (line 2) or upload CSV:</p>
            <textarea id="ttest-input" placeholder="Example:&#10;10, 12, 14, 16, 18&#10;15" rows="4"></textarea>
            <div class="file-upload-section">
                <label for="ttest-file" class="file-label">ğŸ“ Or upload CSV:</label>
                <input type="file" id="ttest-file" accept=".csv" onchange="handleFileUpload(this, 'ttest')">
                <span id="ttest-filename" class="filename"></span>
            </div>
            <button class="btn-calculate" onclick="calculateTTest()">Calculate T-Test</button>
            <div class="csv-help">
                <details>
                    <summary>ğŸ“Š CSV Format Example</summary>
                    <pre>10,12,14,16,18,15
(Last value is population mean)</pre>
                </details>
            </div>
            <div id="ttest-result" class="result"></div>
        </div>

        <!-- Chi-Square Tab -->
        <div class="tab-content" id="chisquare">
            <h2>Chi-Square Goodness of Fit Test</h2>
            <p class="instruction">Enter observed (line 1) and expected (line 2) frequencies or upload CSV:</p>
            <textarea id="chisquare-input" placeholder="Example:&#10;25, 30, 45&#10;33.3, 33.3, 33.3" rows="4"></textarea>
            <div class="file-upload-section">
                <label for="chisquare-file" class="file-label">ğŸ“ Or upload CSV:</label>
                <input type="file" id="chisquare-file" accept=".csv" onchange="handleFileUpload(this, 'chisquare')">
                <span id="chisquare-filename" class="filename"></span>
            </div>
            <button class="btn-calculate" onclick="calculateChiSquare()">Calculate Chi-Square</button>
            <div class="csv-help">
                <details>
                    <summary>ğŸ“Š CSV Format Example</summary>
                    <pre>25,30,45
33.3,33.3,33.3
(Row 1: Observed, Row 2: Expected)</pre>
                </details>
            </div>
            <div id="chisquare-result" class="result"></div>
        </div>

        <!-- Correlation Tab -->
        <div class="tab-content" id="correlation">
            <h2>Pearson Correlation Analysis</h2>
            <p class="instruction">Enter X values (line 1) and Y values (line 2) or upload CSV:</p>
            <textarea id="correlation-input" placeholder="Example:&#10;1, 2, 3, 4, 5&#10;2, 4, 6, 8, 10" rows="4"></textarea>
            <div class="file-upload-section">
                <label for="correlation-file" class="file-label">ğŸ“ Or upload CSV:</label>
                <input type="file" id="correlation-file" accept=".csv" onchange="handleFileUpload(this, 'correlation')">
                <span id="correlation-filename" class="filename"></span>
            </div>
            <button class="btn-calculate" onclick="calculateCorrelation()">Calculate Correlation</button>
            <div class="csv-help">
                <details>
                    <summary>ğŸ“Š CSV Format Example</summary>
                    <pre>1,2,3,4,5
2,4,6,8,10
(Row 1: X values, Row 2: Y values)</pre>
                </details>
            </div>
            <div id="correlation-result" class="result"></div>
        </div>

    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>